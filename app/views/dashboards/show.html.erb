<div class="mb-12">
  <p class="text-2xl mb-12 text-center">
    Hello
    <span class="font-bold text-3xl"><%= Current.user.name %></span>,
    <% if @pair %>
      you have
      <span class="font-bold text-4xl"><%= @pair.other.name %></span>
      for Secret Santa!
    <% else %>
      Secret Santa partners have not been set yet
    <% end %>
  </p>
</div>

<% if Current.group.rules %>
  <div class="mb-12">
    <h3 class="text-2xl mb-2">📏 Group Rules</h3>
    <p><%= Current.group.rules %></p>
  </div>
<% end %>

<% if @pair %>
  <div class="mb-12">
    <h3 class="text-2xl mb-2">🎁 Their Ideas</h3>
    <% if @pair.other.ideas_in_current_group.empty? %>
      <p>
        They haven't added any gift ideas yet...
      </p>
    <% else %>
      <p>
        You could get them...
      </p>
      <% Current.user.ideas.each do |idea| %>
        <p><%= idea.idea %></p>
      <% end %>
    <% end %>
  </div>
<% end %>

<div class="mb-12">
  <h3 class="text-2xl mb-2">🎁 Your Ideas</h3>
  <% Current.user.ideas.each do |idea| %>
    <p class="text-lg mb-2"><%= idea.idea %></p>
  <% end %>
  <%= form_with(model: @idea) do |form| %>
    <% if @idea.errors.any? %>
      <div class="bg-red-700 rounded p-8 mb-8">
        <h2>Could not save idea becuase: </h2>
        <ul>
          <% @idea.errors.each do |error| %>
            <li><span class="mr-2">·</span><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mb-4">
      <%= form.label :idea, "Add an idea to help your Secret Santa partner", class: "block mb-2" %>
      <%= form.text_field :idea, class: "block w-full p-2 rounded bg-blue-300 bg-opacity-25 border-2 border-blue-300" %>
    </div>

    <%= form.submit "Add", class: "button" %>
  <% end %>
</div>

